"use strict";(self.webpackChunkreact_ts_movies=self.webpackChunkreact_ts_movies||[]).push([[742],{610:(e,t,a)=>{a.d(t,{Z:()=>r});var c=a(294);c.Z.defaults.baseURL="https://api.themoviedb.org/";const n="24133b1b6fb1e59d7b163caa4eec50ae";const r={fetchTranding:async function(){return(await c.Z.get("3/trending/movie/day?api_key=".concat(n))).data.results},fetchDetailInfo:async function(e){return await c.Z.get("3/movie/".concat(e,"?api_key=").concat(n))},fetchCastInfo:async function(e){return await c.Z.get("3/movie/".concat(e,"/credits?api_key=").concat(n))},fetchReviews:async function(e){return await c.Z.get("3/movie/".concat(e,"/reviews?api_key=").concat(n))},fetchBySearch:async function(e){return await c.Z.get("3/search/movie?api_key=".concat(n,"&query=").concat(e))}}},742:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var c=a(87),n=a(689),r=a(610),i=a(791),s=a(184);const o=()=>{var e;const[t,a]=(0,i.useState)([]),[o,u]=(0,c.lr)(),l=null!==(e=o.get("query"))&&void 0!==e?e:"",f=(0,n.TH)();return(0,i.useEffect)((()=>{if(!l)return;(async()=>{try{const e=await r.Z.fetchBySearch(l);a(e.data.results)}catch(e){console.log(e)}})()}),[l]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=e.currentTarget,a=t.querySelector('input[name="query"]').value;if(""===a)return u({});u({query:a}),t.reset()},children:[(0,s.jsx)("input",{type:"text",name:"query"}),(0,s.jsx)("button",{type:"submit",style:{marginLeft:"8px"},children:"Search"})]}),(0,s.jsx)("ul",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:t&&l&&t.map((e=>{let{id:t,title:a}=e;return(0,s.jsx)("li",{style:{fontSize:"10px",color:"black"},children:(0,s.jsx)(c.rU,{to:"/movies/".concat(t),state:{from:f},children:a})},t)}))})]})}}}]);
//# sourceMappingURL=742.f402c818.chunk.js.map